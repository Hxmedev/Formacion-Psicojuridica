---
import { conversatorios } from '../data/conversatorios';

export function getStaticPaths() {
  return conversatorios.map(conversatorio => ({
    params: { slug: conversatorio.slug }, // Cada conversatorio tiene un slug único
  }));
}

const { slug } = Astro.params;

const conversatorio = conversatorios.find(c => c.slug === slug);

if (!conversatorio) {
  throw new Error('Conversatorio no encontrado');
}
---

<main class="max-w-7xl mx-auto px-4 py-12">
  <!-- Hero Section -->
  <section class="bg-gray-800 text-white py-16 px-4 rounded-lg shadow-lg">
    <div class="flex items-center justify-center space-x-6">
      <div class="flex flex-col items-start">
        <h1 class="text-4xl font-bold mb-4">{conversatorio.title}</h1>
        <p class="text-lg mb-6">{conversatorio.description}</p>
        <p class="text-md">
          <strong>Coordinador:</strong> {conversatorio.coordinator}
        </p>
        <p class="text-md">
          <strong>Fecha:</strong> {conversatorio.date}
        </p>
        <p class="text-md">
          <strong>Hora:</strong> {conversatorio.time}
        </p>
        <a href={conversatorio.linkToRegister} class="mt-6 inline-block bg-blue-600 text-white py-2 px-6 rounded hover:bg-blue-700">
          Regístrate
        </a>
      </div>
      <img src="/assets/conversatorio.jpg" alt="Conversatorio" class="h-64 rounded-lg shadow-md object-cover" />
    </div>
  </section>

  <!-- Speakers Section -->
  <section class="mt-12">
    <h2 class="text-3xl font-bold mb-4">Ponentes</h2>
    <ul class="list-disc pl-8">
      {conversatorio.speakers.map((speaker) => (
        <li class="text-lg">{speaker}</li>
      ))}
    </ul>
  </section>

  <!-- Registration Section -->
  <section class="mt-12 text-center">
    <a href={conversatorio.linkToRegister} class="bg-green-600 text-white py-2 px-6 rounded hover:bg-green-700">
      ¡Reserva tu lugar!
    </a>
  </section>
</main>
